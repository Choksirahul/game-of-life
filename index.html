<!DOCTYPE html>
<html>
<head>
<title>DIGI WORLD</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="stylesheet" href="style.css" type="text/css"/>

</head>

<body>

<div id="background_images"></div>

    <div id="play" >

      <h4><b>Play</b></h4>

      <form name="myform" >
        <input type="text" name="rows" id="u" placeholder="Enter Rows"/><br><hr id="fhr"></hr><br><br>
        <input type="text" name="col" id="q" placeholder="Enter Columns"/><br><hr id="fhr"></hr><br><br>
        <input type="text" name="gen" id="q" placeholder="Enter Generation"/><br><hr id="fhr"></hr><br><br><br>
        <textarea  name="mat"  placeholder="Enter Matrix" id="txt_ar" rows="4"></textarea><br><br>

        <input type="button" value="SUBMIT" onclick="validateForm()"  id="re" class="btn-login"></input><br>
      </form>

    </div>
  <header>

        <div class="back"></div>



      <div class="container">
        <h1 class="logo">GAME WORLD</h1>

        <nav class="site-nav">
            <ul>
              <li><a href="">Home</a></li>
              <li><a href="">About</a></li>
              <li><a href="#" id="l">Play</a></li>
            </ul>
        </nav>



      </div>
        <h2 class="heading">Welcome To GAME OF LIFE</h2>
        <button class="btn" type="button" >Get Started</button>

  </header>

  <div id="game_des">
    <h1 id="description">Description<hr id="dr"/></h1><br>
    <img src="game.png" >
    <p>
      <h2 class="g_desc">Game Description</h2>
      <ul>
        <li> The Game of Life, also known simply as Life,
          is a cellular automaton devised by the British mathematician John Horton Conway in 1970.</li><br>
        <li>  The "game" is a zero-player game, meaning that its evolution is determined by its initial state,
          requiring no further input.</li><br>
        <li>One interacts with the Game of Life by creating an initial configuration and observing how it evolves,
          or, for advanced "players", by creating patterns with particular properties.</li><br>
      </ul>

      <h2 class="g_rules">Rules</h2>
        <ol>
          <li>Any cells will be alive, if greater than or equal to two cells are alive in the neghbouring.</li>
          <li>Any cells will be dead, if more than four cells are alive beacuse of over-population.</li>
        </ol>
    </p>
  </div>
  <div id="result">
    <h2 class="heading2">Result</h2><hr id="fhr"/><br/><br/>

    <span id="r1"></span>

    <span id="r2"></span>

  </div>
<script src="jquery-3.2.1.js"></script>
<script src="script.js"></script>
<script>
    function validateForm() {
        var row = document.forms["myform"]["rows"].value;
        var col = document.forms["myform"]["col"].value;
        var gen = document.forms["myform"]["gen"].value;

        entries(row, col, gen);

    }

    function entries(row, col, gen) {

          var x = document.getElementById("txt_ar").value;
          var s = x.split("");
          var k = 0;
          var str = '';
          var check = 0;
          var mini = 0;
          var alivecells = 0;
          var max = row;
          var counterlife = 0;
          var counterdeath = 0;
          let a = new Array();
                for (var i=0; i<row; i++){
                	a[i] = new Array();
                }
                for (var i=0; i<row; i++){
                	for(var j=0; j<col; j++){
                      if(s[k] != " "){
                        a[i][j] = s[k];
                        k++;
                      }
                    }
                    k++;
                 }




                for(var k=0 ; k<gen; k++){

                  for (var i=0 ; i<row; i++){
                  for(var j=0; j<col; j++){
                    counterlife = 0;
                    counterdeath = 0;
                    if(i-1 >= mini){
                      check = a[i-1][j];
                      if(check == '@'){
                        counterlife++;
                      }
                      else {
                        counterdeath++;
                      }
                    }
                    if(j-1 >= mini){
                      check = a[i][j-1];
                      if(check == '@'){
                        counterlife++;
                      }
                      else {
                        counterdeath++;
                      }
                    }
                    if(i+1 < max ){
                      check = a[i+1][j];
                      if(check == '@'){
                        counterlife++;
                      }
                      else {
                        counterdeath++;
                      }
                    }
                    if(j+1 < max){
                      check = a[i][j+1];
                      if(check == '@'){
                        counterlife++;
                      }
                      else {
                        counterdeath++;
                      }
                    }
                    if(counterlife>=counterdeath){
                      if(a[i][j] == '@'){
                        if(counterlife<2){
                          a[i][j] = '#';
                        }
                        if(counterlife>=2 && counterlife<4){
                          a[i][j] = '@';
                        }
                        if(counterlife==4){
                          a[i][j] = '#';
                        }
                      }else{
                        if(counterlife<2){
                          a[i][j] = '#';
                        }
                        if(counterlife>=2 && counterlife<4){
                          a[i][j] = '@';
                        }
                        if(counterlife==4){
                          a[i][j] = '#';
                        }
                      }
                    }
                    else {
                      a[i][j] = '#';
                    }


                      }

                  }


                }


                for (var i=0; i<row; i++){
                	for(var j=0; j<col; j++){
                      if(a[i][j] == '@'){
                        alivecells++;
                      }
                    str += a[i][j]+"&emsp;";
                    }
                    str += "<br/><br/>";
                }
                document.getElementById('r1').innerHTML = str;
                document.getElementById('r2').innerHTML = "There are "+alivecells+" alive cells";


        }
        
</script>

</body>
</html>
